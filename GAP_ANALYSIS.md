# üìä –ü—Ä–æ–≥—Ä–µ—Å –ü—Ä–æ–µ–∫—Ç—É BookClub Mini App

**–î–∞—Ç–∞ –æ–Ω–æ–≤–ª–µ–Ω–Ω—è:** 22 —Å—ñ—á–Ω—è 2026

---

## ‚úÖ –ó–∞–≤–µ—Ä—à–µ–Ω–æ (–¢–µ—Ö–Ω—ñ—á–Ω–∏–π –ë–æ—Ä–≥ –ó–∞–∫—Ä–∏—Ç–∏–π)

### 1. Frontend –†–µ—Ñ–∞–∫—Ç–æ—Ä–∏–Ω–≥

#### CSS –î–µ–∫–æ–º–ø–æ–∑–∏—Ü—ñ—è
**–ë—É–ª–æ:** 1 —Ñ–∞–π–ª (655 —Ä—è–¥–∫—ñ–≤) ‚Üí **–°—Ç–∞–ª–æ:** 8 —Ñ–∞–π–ª—ñ–≤ (687 —Ä—è–¥–∫—ñ–≤)
- `variables.css` - —Ç–µ–º–∏ —Ç–∞ CSS –∑–º—ñ–Ω–Ω—ñ
- `base.css` - reset & –±–∞–∑–æ–≤—ñ —Å—Ç–∏–ª—ñ
- `layout.css` - —Å—Ç—Ä—É–∫—Ç—É—Ä–∞, grid —Å–∏—Å—Ç–µ–º–∏
- `components.css` - –∫–Ω–æ–ø–∫–∏, badges, –º–æ–¥–∞–ª—å–Ω—ñ –≤—ñ–∫–Ω–∞
- `clubs.css` - –∫–∞—Ä—Ç–∫–∏ –∫–ª—É–±—ñ–≤
- `club-detail.css` - —Å—Ç–æ—Ä—ñ–Ω–∫–∞ –¥–µ—Ç–∞–ª–µ–π –∫–ª—É–±—É
- `books.css` - –∫–∞—Ä—Ç–∫–∏ –∫–Ω–∏–≥
- `styles.css` - compatibility wrapper

**–†–µ–∑—É–ª—å—Ç–∞—Ç:** –ú–æ–¥—É–ª—å–Ω–∞ –∞—Ä—Ö—ñ—Ç–µ–∫—Ç—É—Ä–∞, –ª–µ–≥—à–∞ –ø—ñ–¥—Ç—Ä–∏–º–∫–∞, –∫—Ä–∞—â–∏–π Git workflow

#### JavaScript –î–µ–∫–æ–º–ø–æ–∑–∏—Ü—ñ—è
**–ë—É–ª–æ:** 2 —Ñ–∞–π–ª–∏ (978 —Ä—è–¥–∫—ñ–≤) ‚Üí **–°—Ç–∞–ª–æ:** 11 —Ñ–∞–π–ª—ñ–≤ (1692 —Ä—è–¥–∫—ñ–≤)

**UI –ú–æ–¥—É–ª—ñ (4 —Ñ–∞–π–ª–∏):**
- `ui-utils.js` - —É—Ç–∏–ª—ñ—Ç–∏
- `ui-books.js` - —É–ø—Ä–∞–≤–ª—ñ–Ω–Ω—è –∫–Ω–∏–≥–∞–º–∏
- `ui-reviews.js` - –≤—ñ–¥–≥—É–∫–∏ —Ç–∞ —Ä–µ–π—Ç–∏–Ω–≥–∏
- `ui.js` - proxy –¥–ª—è –∑–≤–æ—Ä–æ—Ç–Ω–æ—ó —Å—É–º—ñ—Å–Ω–æ—Å—Ç—ñ

**Clubs –ú–æ–¥—É–ª—ñ (4 —Ñ–∞–π–ª–∏):**
- `clubs-list.js` - —Å–ø–∏—Å–æ–∫ –∫–ª—É–±—ñ–≤
- `clubs-detail.js` - –¥–µ—Ç–∞–ª—ñ –∫–ª—É–±—É
- `clubs-requests.js` - –∑–∞—è–≤–∫–∏ –Ω–∞ –≤—Å—Ç—É–ø
- `clubs-ui.js` - proxy –¥–ª—è –∑–≤–æ—Ä–æ—Ç–Ω–æ—ó —Å—É–º—ñ—Å–Ω–æ—Å—Ç—ñ

**–†–µ–∑—É–ª—å—Ç–∞—Ç:** -2.5% —Ä–æ–∑–º—ñ—Ä—É, proxy pattern, –Ω–µ–∑–∞–ª–µ–∂–Ω—ñ –º–æ–¥—É–ª—ñ

---

### 2. UI –†–µ–¥–∏–∑–∞–π–Ω (22 —Å—ñ—á–Ω—è 2026)

#### –ì–æ–ª–æ–≤–Ω–∞ –°—Ç–æ—Ä—ñ–Ω–∫–∞ - –°–ø–∏—Å–æ–∫ –ö–ª—É–±—ñ–≤ ‚úÖ
- –ì–æ—Ä–∏–∑–æ–Ω—Ç–∞–ª—å–Ω–∏–π layout –∫–∞—Ä—Ç–æ–∫ (–∞–≤–∞—Ç–∞—Ä –∑–ª—ñ–≤–∞, —ñ–Ω—Ñ–æ —Å–ø—Ä–∞–≤–∞)
- –î–µ—Ñ–æ–ª—Ç–Ω–∏–π –∞–≤–∞—Ç–∞—Ä –∫–ª—É–±—É `club_default_avatar.png`
- User badge –≤ header
- –ü–æ–∫—Ä–∞—â–µ–Ω–∞ —Ç–∏–ø–æ–≥—Ä–∞—Ñ—ñ—è

**–§–∞–π–ª–∏:** clubs.css, layout.css, clubs-list.js

#### –°—Ç–æ—Ä—ñ–Ω–∫–∞ –ö–ª—É–±—É - –î–µ—Ç–∞–ª—ñ ‚úÖ
**5 —Å–µ–∫—Ü—ñ–π:**
1. Header buttons (–¥–æ–¥–∞—Ç–∏ –∫–Ω–∏–≥—É, —Ä–µ–¥–∞–≥—É–≤–∞—Ç–∏, –≤–∏–¥–∞–ª–∏—Ç–∏) - –∑ –ø—Ä–∞–≤–∞–º–∏
2. –Ü–Ω—Ñ–æ –∫–ª—É–±—É (–∞–≤–∞—Ç–∞—Ä, –Ω–∞–∑–≤–∞, –∫–Ω–æ–ø–∫–∞ –∑–∞—è–≤–æ–∫, —Å—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞)
3. –û–ø–∏—Å –∫–ª—É–±—É (—Ö–æ–≤–∞—î—Ç—å—Å—è —è–∫—â–æ –≤—ñ–¥—Å—É—Ç–Ω—ñ–π)
4. –ü–æ—à—É–∫ —Ç–∞ —Ñ—ñ–ª—å—Ç—Ä–∏
5. –°–ø–∏—Å–æ–∫ –∫–Ω–∏–≥ - –≥–æ—Ä–∏–∑–æ–Ω—Ç–∞–ª—å–Ω—ñ –∫–∞—Ä—Ç–∫–∏

**–§–∞–π–ª–∏:** club-detail.css, clubs-detail.js

#### –ö–∞—Ä—Ç–∫–∏ –ö–Ω–∏–≥ - –ì–æ—Ä–∏–∑–æ–Ω—Ç–∞–ª—å–Ω–∏–π Layout ‚úÖ
**–°—Ç—Ä—É–∫—Ç—É—Ä–∞:**
- –ê–≤–∞—Ç–∞—Ä 80√ó100px –∑–ª—ñ–≤–∞
- –Ü–Ω—Ñ–æ (–Ω–∞–∑–≤–∞, –∞–≤—Ç–æ—Ä, —á–∏—Ç–∞—á—ñ) –≤ —Ü–µ–Ω—Ç—Ä—ñ
- –†–µ–π—Ç–∏–Ω–≥ —ñ —Å—Ç–∞—Ç—É—Å —Å–ø—Ä–∞–≤–∞

**–ö–Ω–æ–ø–∫–∏ –¥—ñ–π:**
- üìñ –í–∑—è—Ç–∏ –∫–Ω–∏–≥—É (–¥–æ—Å—Ç—É–ø–Ω–∞, –Ω–µ –≤–ª–∞—Å–Ω–∏–∫)
- üè† –ü–æ–≤–µ—Ä–Ω—É—Ç–∏ –∫–Ω–∏–≥—É (–ø–æ—Ç–æ—á–Ω–∏–π —á–∏—Ç–∞—á)
- ‚≠ê –û—Ü—ñ–Ω–∏—Ç–∏ (–∑–∞–≤–∂–¥–∏)
- ‚úèÔ∏è –†–µ–¥–∞–≥—É–≤–∞—Ç–∏ (–≤–ª–∞—Å–Ω–∏–∫)
- üóëÔ∏è –í–∏–¥–∞–ª–∏—Ç–∏ (–≤–ª–∞—Å–Ω–∏–∫, —á–µ—Ä–≤–æ–Ω–∞)

**–§–∞–π–ª–∏:** books.css, ui-books.js

#### –ú–æ–¥–∞–ª—å–Ω–µ –í—ñ–∫–Ω–æ –ö–Ω–∏–≥–∏ ‚úÖ
- –î–µ—Ç–∞–ª—ñ (–∞–≤—Ç–æ—Ä, —Å—Ç–∞—Ç—É—Å, –æ–ø–∏—Å)
- –•—Ä–æ–Ω–æ–ª–æ–≥—ñ—è (—Å—Ç–≤–æ—Ä–µ–Ω–Ω—è, —ñ—Å—Ç–æ—Ä—ñ—è —á–∏—Ç–∞–Ω–Ω—è)
- –í—ñ–¥–≥—É–∫–∏ –∑ —Ä–µ–π—Ç–∏–Ω–≥–∞–º–∏
- –ö–Ω–æ–ø–∫–∏ –¥—ñ–π
- `position: fixed` overlay

**–§–∞–π–ª–∏:** components.css, ui-books.js

---

### 3. Frontend –§—É–Ω–∫—Ü—ñ–æ–Ω–∞–ª ‚úÖ

- ‚úÖ –î–æ–¥–∞–≤–∞–Ω–Ω—è –∫–Ω–∏–≥–∏
- ‚úÖ –†–µ–¥–∞–≥—É–≤–∞–Ω–Ω—è –∫–Ω–∏–≥–∏ (editBook)
- ‚úÖ –í–∏–¥–∞–ª–µ–Ω–Ω—è –∫–Ω–∏–≥–∏
- ‚úÖ –ü–æ–∑–∏—á–∏—Ç–∏ –∫–Ω–∏–≥—É (borrowBook)
- ‚úÖ –ü–æ–≤–µ—Ä–Ω—É—Ç–∏ –∫–Ω–∏–≥—É (returnBook)
- ‚úÖ API.books.update() –º–µ—Ç–æ–¥
- ‚úÖ Form create/edit —Ä–µ–∂–∏–º–∏
- ‚úÖ Header button management
- ‚úÖ –ö–ª—ñ–∫ –Ω–∞ –∫–Ω–∏–≥—É ‚Üí modal
- ‚úÖ Modal overlay –∑ –∫–Ω–æ–ø–∫–∞–º–∏ –¥—ñ–π
- ‚úÖ **–§–æ—Ä–º–∞ —Å—Ç–≤–æ—Ä–µ–Ω–Ω—è/—Ä–µ–¥–∞–≥—É–≤–∞–Ω–Ω—è –∫–ª—É–±—É** (modal)
- ‚úÖ **Club form –≤ –¥–≤–æ—Ö —Ä–µ–∂–∏–º–∞—Ö** (create/edit)

---

### 4. Backend: current_reader_id ‚úÖ

**–ó–º—ñ–Ω–∏:**
- ‚úÖ –î–æ–¥–∞–Ω–æ `current_reader_id` –¥–æ BookResponse
- ‚úÖ –í–∏–∑–Ω–∞—á–∞—î—Ç—å—Å—è –∑ –∞–∫—Ç–∏–≤–Ω–æ–≥–æ loan (READING)
- ‚úÖ –ü–æ–≤–µ—Ä—Ç–∞—î—Ç—å—Å—è –≤ API endpoints

**–§–∞–π–ª–∏:** schemas.py, books.py

**–†–µ–∑—É–ª—å—Ç–∞—Ç:** –ö–Ω–æ–ø–∫–∞ "–ü–æ–≤–µ—Ä–Ω—É—Ç–∏" –≤—ñ–¥–æ–±—Ä–∞–∂–∞—î—Ç—å—Å—è –∫–æ—Ä–µ–∫—Ç–Ω–æ

---

### 5. Cache Management ‚úÖ

- –í–µ—Ä—Å—ñ—ó —Ñ–∞–π–ª—ñ–≤: v4 ‚Üí v10
- Direct `<link>` tags –∑–∞–º—ñ—Å—Ç—å @import
- Query parameters –¥–ª—è cache invalidation

**–†–µ–∑—É–ª—å—Ç–∞—Ç:** Telegram –ø—Ä–∞–≤–∏–ª—å–Ω–æ –∑–∞–≤–∞–Ω—Ç–∞–∂—É—î –æ–Ω–æ–≤–ª–µ–Ω—ñ —Ñ–∞–π–ª–∏

---

### 6. Clubs List Refresh ‚úÖ (22 —Å—ñ—á–Ω—è 2026)

**–ü—Ä–æ–±–ª–µ–º–∞:** –ü—ñ—Å–ª—è –≤—ñ–¥–ø—Ä–∞–≤–∫–∏ –∑–∞—è–≤–∫–∏ –Ω–∞ –≤—Å—Ç—É–ø (join request) pending –∫–ª—É–± –Ω–µ –≤—ñ–¥–æ–±—Ä–∞–∂–∞–≤—Å—è –¥–æ –ø–µ—Ä–µ–∑–∞–≤–∞–Ω—Ç–∞–∂–µ–Ω–Ω—è —Å—Ç–æ—Ä—ñ–Ω–∫–∏

**–†—ñ—à–µ–Ω–Ω—è:**
- ‚úÖ –î–æ–¥–∞–Ω–æ `await ClubsUI.loadClubsList()` –≤ app.js –ø—ñ—Å–ª—è API.clubs.requestJoin()
- ‚úÖ Pending –∫–ª—É–±–∏ —Ç–µ–ø–µ—Ä –≤—ñ–¥–æ–±—Ä–∞–∂–∞—é—Ç—å—Å—è –≤—ñ–¥—Ä–∞–∑—É –∑ –±–µ–π–¥–∂–µ–º "‚è≥ –ó–∞—è–≤–∫–∞ –Ω–∞ —Ä–æ–∑–≥–ª—è–¥—ñ"

**–§–∞–π–ª–∏:** app.js (v10)

---

### 7. Backend: –î–æ–¥–∞—Ç–∫–æ–≤—ñ –ü–æ–ª—è ‚úÖ (22 —Å—ñ—á–Ω—è 2026)

#### members_count
- ‚úÖ –î–æ–¥–∞–Ω–æ –¥–æ ClubResponse
- ‚úÖ –û–±—á–∏—Å–ª—é—î—Ç—å—Å—è –≤ GET /api/clubs/{id}
- ‚úÖ –í–∏–ø—Ä–∞–≤–ª–µ–Ω–æ member_count ‚Üí members_count –≤ ClubDetailResponse

#### books_count
- ‚úÖ –î–æ–¥–∞–Ω–æ –¥–æ ClubResponse (—Ä–∞–Ω—ñ—à–µ)
- ‚úÖ –û–±—á–∏—Å–ª—é—î—Ç—å—Å—è –¥–ª—è –≤—Å—ñ—Ö club endpoints

#### average_rating & readers_count
- ‚úÖ –î–æ–¥–∞–Ω–æ –¥–æ BookResponse
- ‚úÖ –°—Ç–≤–æ—Ä–µ–Ω–æ `enrich_book_with_stats()` —Ñ—É–Ω–∫—Ü—ñ—é
- ‚úÖ –î–æ–¥–∞–Ω–æ –¥–æ –≤—Å—ñ—Ö book endpoints:
  - GET /api/books/club/{club_id}
  - GET /api/books/book/{book_id}
  - POST /api/books (create)
  - PATCH /api/books/{book_id} (update)
  - POST /api/books/{book_id}/borrow
  - POST /api/books/{book_id}/return

**–§–∞–π–ª–∏:** schemas.py, books.py, clubs.py

**–†–µ–∑—É–ª—å—Ç–∞—Ç:** –°—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞ –≤—ñ–¥–æ–±—Ä–∞–∂–∞—î—Ç—å—Å—è –∫–æ—Ä–µ–∫—Ç–Ω–æ –Ω–∞ —Ñ—Ä–æ–Ω—Ç–µ–Ω–¥—ñ

---

### 8. Backend: –ü–µ—Ä–µ–≤—ñ—Ä–∫–∞ –ß–ª–µ–Ω—Å—Ç–≤–∞ ‚úÖ (22 —Å—ñ—á–Ω—è 2026)

**–ü—Ä–æ–±–ª–µ–º–∞ –±–µ–∑–ø–µ–∫–∏:** –ë—É–¥—å-—è–∫–∏–π –∫–æ—Ä–∏—Å—Ç—É–≤–∞—á –º—ñ–≥ –æ—Ç—Ä–∏–º—É–≤–∞—Ç–∏ –¥–æ—Å—Ç—É–ø –¥–æ –∫–Ω–∏–≥ –∫–ª—É–±—ñ–≤, –¥–æ —è–∫–∏—Ö –Ω–µ –Ω–∞–ª–µ–∂–∏—Ç—å

**–†—ñ—à–µ–Ω–Ω—è:**
- ‚úÖ –°—Ç–≤–æ—Ä–µ–Ω–æ `verify_club_membership()` —Ñ—É–Ω–∫—Ü—ñ—é
- ‚úÖ –î–æ–¥–∞–Ω–æ –ø–µ—Ä–µ–≤—ñ—Ä–∫—É –¥–æ –í–°–Ü–• –µ–Ω–¥–ø–æ—ñ–Ω—Ç—ñ–≤ books.py (11 –µ–Ω–¥–ø–æ—ñ–Ω—Ç—ñ–≤)
- ‚úÖ HTTPException 403 —è–∫—â–æ –∫–æ—Ä–∏—Å—Ç—É–≤–∞—á –Ω–µ —á–ª–µ–Ω –∫–ª—É–±—É

**–§–∞–π–ª–∏:** books.py

**–†–µ–∑—É–ª—å—Ç–∞—Ç:** API –∑–∞—Ö–∏—â–µ–Ω–∏–π, –¥–æ—Å—Ç—É–ø —Ç—ñ–ª—å–∫–∏ –¥–ª—è —á–ª–µ–Ω—ñ–≤ –∫–ª—É–±—É

---

### 9. Backend & Frontend: –°–æ—Ä—Ç—É–≤–∞–Ω–Ω—è –ö–Ω–∏–≥ ‚úÖ (22 —Å—ñ—á–Ω—è 2026)

**–ü—Ä–æ–±–ª–µ–º–∞:** –ë–µ–∫–µ–Ω–¥ –∑–∞–≤–∂–¥–∏ —Å–æ—Ä—Ç—É–≤–∞–≤ –∑–∞ –¥–∞—Ç–æ—é —Å—Ç–≤–æ—Ä–µ–Ω–Ω—è, —Ñ—Ä–æ–Ω—Ç–µ–Ω–¥ –º–∞–≤ –Ω–µ–ø—Ä–∞–≤–∏–ª—å–Ω—ñ –æ–ø—Ü—ñ—ó

**–†—ñ—à–µ–Ω–Ω—è Backend:**
- ‚úÖ –î–æ–¥–∞–Ω–æ –ø–∞—Ä–∞–º–µ—Ç—Ä `sort_by: Optional[str]` –¥–æ GET /api/books/club/{club_id}
- ‚úÖ –†–µ–∞–ª—ñ–∑–æ–≤–∞–Ω–æ 5 –≤–∞—Ä—ñ–∞–Ω—Ç—ñ–≤ —Å–æ—Ä—Ç—É–≤–∞–Ω–Ω—è:
  - `""` (default) - –∑–∞ –¥–∞—Ç–æ—é –¥–æ–¥–∞–≤–∞–Ω–Ω—è (–Ω–∞–π–Ω–æ–≤—ñ—à—ñ –ø–µ—Ä—à—ñ)
  - `"author"` - –∑–∞ –∞–≤—Ç–æ—Ä–æ–º (–∞–ª—Ñ–∞–≤—ñ—Ç)
  - `"title"` - –∑–∞ –Ω–∞–∑–≤–æ—é (–∞–ª—Ñ–∞–≤—ñ—Ç)
  - `"rating"` - –∑–∞ –ø–æ–ø—É–ª—è—Ä–Ω—ñ—Å—Ç—é (—Ä–µ–π—Ç–∏–Ω–≥, –≤—ñ–¥ –≤–∏—â–æ–≥–æ)
  - `"readers"` - –∑–∞ –∫—ñ–ª—å–∫—ñ—Å—Ç—é —á–∏—Ç–∞—á—ñ–≤ (–≤—ñ–¥ –±—ñ–ª—å—à–æ—ó)

**–†—ñ—à–µ–Ω–Ω—è Frontend:**
- ‚úÖ –í–∏–ø—Ä–∞–≤–ª–µ–Ω–æ HTML select: `filter-status` ‚Üí `sort-by`
- ‚úÖ –û–Ω–æ–≤–ª–µ–Ω–æ —Ç–µ–∫—Å—Ç–∏ –æ–ø—Ü—ñ–π (–ó–∞ –¥–∞—Ç–æ—é/–∞–≤—Ç–æ—Ä–æ–º/–Ω–∞–∑–≤–æ—é/–ø–æ–ø—É–ª—è—Ä–Ω—ñ—Å—Ç—é/—á–∏—Ç–∞—á–∞–º–∏)
- ‚úÖ –í–∏–ø—Ä–∞–≤–ª–µ–Ω–æ –∑–Ω–∞—á–µ–Ω–Ω—è value –¥–ª—è –∫–æ—Ä–µ–∫—Ç–Ω–æ—ó –ø–µ—Ä–µ–¥–∞—á—ñ
- ‚úÖ ui-books.js: –ø–µ—Ä–µ–¥–∞—î `sort_by` –∑–∞–º—ñ—Å—Ç—å `status`
- ‚úÖ api.js: –∑–º—ñ–Ω–µ–Ω–æ `filters.status` ‚Üí `filters.sort_by`
- ‚úÖ app.js: –æ–Ω–æ–≤–ª–µ–Ω–æ —Å–ª—É—Ö–∞—á –ø–æ–¥—ñ–π

**–§–∞–π–ª–∏:** books.py, index.html, ui-books.js (v9), api.js (v9), app.js (v10)

**–†–µ–∑—É–ª—å—Ç–∞—Ç:** –ü–æ–≤–Ω–æ—Ü—ñ–Ω–Ω–µ —Å–æ—Ä—Ç—É–≤–∞–Ω–Ω—è –ø—Ä–∞—Ü—é—î –Ω–∞ –±–µ–∫–µ–Ω–¥—ñ —Ç–∞ —Ñ—Ä–æ–Ω—Ç–µ–Ω–¥—ñ

---

## ÔøΩ –ê–Ω–∞–ª—ñ–∑ –§–æ—Ä–º–∏ –ö–ª—É–±—É vs –ë–î/Backend (22 —Å—ñ—á–Ω—è 2026)

### –ü–æ—Ä—ñ–≤–Ω—è–ª—å–Ω–∞ –¢–∞–±–ª–∏—Ü—è

| –ü–æ–ª–µ | Frontend | DB Model | Schema | API | –°—Ç–∞—Ç—É—Å |
|------|----------|----------|--------|-----|--------|
| **name** | ‚úÖ input | ‚úÖ String(255) | ‚úÖ required | ‚úÖ CRUD | ‚úÖ OK |
| **description** | ‚úÖ textarea | ‚úÖ Text | ‚úÖ optional | ‚úÖ CRUD | ‚úÖ OK |
| **is_public** | ‚úÖ select | ‚úÖ Boolean | ‚úÖ bool | ‚úÖ CRUD | ‚úÖ OK |
| **cover_url** | ‚úÖ input file (80%) | ‚ùå –í–Ü–î–°–£–¢–ù–Ñ | ‚ùå –í–Ü–î–°–£–¢–ù–Ñ | ‚ùå –í–Ü–î–°–£–¢–ù–Ñ | ‚ùå **GAP** |
| **requires_approval** | ‚úÖ checkbox (100%) | ‚ùå –í–Ü–î–°–£–¢–ù–Ñ | ‚ùå –í–Ü–î–°–£–¢–ù–Ñ | ‚ùå –Ü–ì–ù–û–†–£–Ñ–¢–¨–°–Ø | ‚ùå **GAP** |

### –í–∏—è–≤–ª–µ–Ω—ñ –†–æ–∑–±—ñ–∂–Ω–æ—Å—Ç—ñ (GAPs)

#### 1. **cover_url** (–ê–≤–∞—Ç–∞—Ä –ö–ª—É–±—É) - –ö–†–ò–¢–ò–ß–ù–ò–ô
**Frontend:** 80% –≥–æ—Ç–æ–≤–∏–π
- ‚úÖ UI: file input, preview, validation (5MB, image type)
- ‚úÖ JS: ClubForm.avatarFile, handleAvatarChange()
- ‚ùå TODO: upload –Ω–µ —Ä–µ–∞–ª—ñ–∑–æ–≤–∞–Ω–æ

**Backend:** 0% –≥–æ—Ç–æ–≤–∏–π
- ‚ùå –ù–µ–º–∞—î –ø–æ–ª—è –≤ Club model
- ‚ùå –ù–µ–º–∞—î –≤ ClubCreate/Update/Response schemas
- ‚ùå –ù–µ–º–∞—î upload endpoint
- ‚ùå –ù–µ–º–∞—î file storage

#### 2. **requires_approval** (–°—Ö–≤–∞–ª–µ–Ω–Ω—è –ó–∞—è–≤–æ–∫) - –í–ê–ñ–õ–ò–í–ò–ô
**Frontend:** 100% –≥–æ—Ç–æ–≤–∏–π
- ‚úÖ UI: checkbox "–ü–æ—Ç—Ä—ñ–±–Ω–µ —Å—Ö–≤–∞–ª–µ–Ω–Ω—è –∑–∞—è–≤–∫–∏"
- ‚úÖ JS: –≤—ñ–¥–ø—Ä–∞–≤–ª—è—î requires_approval: boolean
- ‚úÖ Privacy info block –ø–æ—è—Å–Ω—é—î –ª–æ–≥—ñ–∫—É

**Backend:** —ñ–≥–Ω–æ—Ä—É—î—Ç—å—Å—è
- ‚ùå –ù–µ–º–∞—î –ø–æ–ª—è –≤ Club model
- ‚ùå –ù–µ–º–∞—î –≤ schemas
- ‚ö†Ô∏è –ó–∞—Ä–∞–∑ –í–°–Ü –∑–∞—è–≤–∫–∏ = PENDING (–∑–∞–≤–∂–¥–∏ –ø–æ—Ç—Ä—ñ–±–µ–Ω approve)

**–û—á—ñ–∫—É–≤–∞–Ω–∞ –õ–æ–≥—ñ–∫–∞:**
- `requires_approval=True` ‚Üí –∑–∞—è–≤–∫–∞ PENDING, –ø–æ—Ç—Ä—ñ–±–µ–Ω approve
- `requires_approval=False` ‚Üí AUTO-APPROVE (–≤—ñ–¥—Ä–∞–∑—É member)

### –ù–µ–æ–±—Ö—ñ–¥–Ω—ñ –ó–º—ñ–Ω–∏

#### –ú—ñ–≥—Ä–∞—Ü—ñ—è –ë–î
```sql
ALTER TABLE clubs ADD COLUMN cover_url VARCHAR(500) NULL;
ALTER TABLE clubs ADD COLUMN requires_approval BOOLEAN DEFAULT TRUE;
```

#### Backend Files
1. **db_models.py** - –¥–æ–¥–∞—Ç–∏ 2 –ø–æ–ª—è –¥–æ Club
2. **schemas.py** - –¥–æ–¥–∞—Ç–∏ –¥–æ ClubCreate/Update/Response
3. **clubs.py** - –¥–æ–¥–∞—Ç–∏ upload endpoint + auto-approval logic

#### –û—Ü—ñ–Ω–∫–∞ –†–æ–±–æ—Ç–∏
- –ú—ñ–≥—Ä–∞—Ü—ñ—è –ë–î + Schema: ~30 —Ö–≤
- Upload Endpoint + Storage: ~2-3 –≥–æ–¥
- Auto-Approval Logic: ~1 –≥–æ–¥
- –¢–µ—Å—Ç—É–≤–∞–Ω–Ω—è: ~1 –≥–æ–¥
- **–ó–∞–≥–∞–ª–æ–º: ~5-6 –≥–æ–¥–∏–Ω**

---

## üîÑ –ù–∞—Å—Ç—É–ø–Ω—ñ –ï—Ç–∞–ø–∏ (TODO)

### Backend - –í–∏—Å–æ–∫–∏–π –ü—Ä—ñ–æ—Ä–∏—Ç–µ—Ç

#### 1. –î–æ–¥–∞—Ç–∫–æ–≤—ñ –ü–æ–ª—è - –§–æ—Ä–º–∞ –ö–ª—É–±—É
- [ ] **`cover_url`** - –∞–≤–∞—Ç–∞—Ä –∫–ª—É–±—É (–ö–†–ò–¢–ò–ß–ù–ò–ô GAP)
  - [ ] –î–æ–¥–∞—Ç–∏ –ø–æ–ª–µ –¥–æ Club model
  - [ ] –û–Ω–æ–≤–∏—Ç–∏ schemas (ClubCreate/Update/Response)
  - [ ] –°—Ç–≤–æ—Ä–∏—Ç–∏ upload endpoint POST /api/clubs/{id}/avatar
  - [ ] –†–µ–∞–ª—ñ–∑—É–≤–∞—Ç–∏ file storage (–≤–∏–∑–Ω–∞—á–∏—Ç–∏ —Å—Ç—Ä–∞—Ç–µ–≥—ñ—é)
  - [ ] –ì–µ–Ω–µ—Ä–∞—Ü—ñ—è URLs
- [ ] **`requires_approval`** - –∞–≤—Ç–æ—Å—Ö–≤–∞–ª–µ–Ω–Ω—è –∑–∞—è–≤–æ–∫ (–í–ê–ñ–õ–ò–í–ò–ô GAP)
  - [ ] –î–æ–¥–∞—Ç–∏ –ø–æ–ª–µ –¥–æ Club model (Boolean, default=True)
  - [ ] –û–Ω–æ–≤–∏—Ç–∏ schemas
  - [ ] –ú–æ–¥–∏—Ñ—ñ–∫—É–≤–∞—Ç–∏ –ª–æ–≥—ñ–∫—É request_to_join_club()
  - [ ] –Ø–∫—â–æ False ‚Üí auto-approve (–¥–æ–¥–∞—Ç–∏ –≤ members)
- [x] ~~`books_count`~~ - –∫—ñ–ª—å–∫—ñ—Å—Ç—å –∫–Ω–∏–≥ –≤ –æ–±—ñ–≥—É ‚úÖ
- [x] ~~`average_rating`~~ - —Å–µ—Ä–µ–¥–Ω—ñ–π —Ä–µ–π—Ç–∏–Ω–≥ –∫–Ω–∏–≥–∏ ‚úÖ
- [x] ~~`readers_count`~~ - –∫—ñ–ª—å–∫—ñ—Å—Ç—å —á–∏—Ç–∞—á—ñ–≤ ‚úÖ
- [x] ~~`members_count`~~ - –∫—ñ–ª—å–∫—ñ—Å—Ç—å —É—á–∞—Å–Ω–∏–∫—ñ–≤ –∫–ª—É–±—É ‚úÖ

#### 2. –ó–∞–≤–∞–Ω—Ç–∞–∂–µ–Ω–Ω—è –ó–æ–±—Ä–∞–∂–µ–Ω—å - Book Covers
- [ ] Upload endpoint –¥–ª—è book covers (POST /api/books/{id}/cover)
- [ ] –î–æ–¥–∞—Ç–∏ cover_url –¥–æ Book (–≤–∂–µ —î –≤ –º–æ–¥–µ–ª—ñ, –ø–æ—Ç—Ä—ñ–±–µ–Ω endpoint)
- [ ] –í–∏–∫–æ—Ä–∏—Å—Ç–∞—Ç–∏ —Ç—É —Å–∞–º—É storage —Å—Ç—Ä–∞—Ç–µ–≥—ñ—é

#### 3. –ü–æ—à—É–∫ —Ç–∞ –°–æ—Ä—Ç—É–≤–∞–Ω–Ω—è
- [ ] `/api/books/club/{club_id}?search=query` - —Ç–µ—Å—Ç—É–≤–∞–Ω–Ω—è
- [x] ~~`/api/books/club/{club_id}?sort_by=...`~~ - —Å–æ—Ä—Ç—É–≤–∞–Ω–Ω—è –∫–Ω–∏–≥ ‚úÖ
- [ ] `/api/clubs/search` - –ø–æ—à—É–∫ –ø—É–±–ª—ñ—á–Ω–∏—Ö –∫–ª—É–±—ñ–≤

#### 4. –ë–µ–∑–ø–µ–∫–∞
- [x] ~~–ü–µ—Ä–µ–≤—ñ—Ä–∫–∞ —á–ª–µ–Ω—Å—Ç–≤–∞ –≤ –∫–ª—É–±—ñ –¥–ª—è books endpoints~~ ‚úÖ

---

### Frontend - –°–µ—Ä–µ–¥–Ω—ñ–π –ü—Ä—ñ–æ—Ä–∏—Ç–µ—Ç

#### 1. –ó–∞–≤–∞–Ω—Ç–∞–∂–µ–Ω–Ω—è –ó–æ–±—Ä–∞–∂–µ–Ω—å
- [ ] Upload club avatar (UI –≥–æ—Ç–æ–≤–∏–π)
- [ ] Upload –æ–±–∫–ª–∞–¥–∏–Ω–∫–∏ –∫–Ω–∏–≥–∏
- [ ] Preview –∑–æ–±—Ä–∞–∂–µ–Ω–Ω—è

#### 2. –ü–æ—à—É–∫ –ö–ª—É–±—ñ–≤
- [ ] Search modal
- [ ] API call

#### 4. –í—Å—Ç—É–ø –∑–∞ –ö–æ–¥–æ–º
- [ ] Join modal
- [ ] Input –¥–ª—è invite code

#### 3. –ó–∞—è–≤–∫–∏ –≤ –ö–ª—É–±
- [ ] View Requests modal
- [ ] Approve/Reject buttons
- [ ] Badge count update

---

### –û–ø—Ç–∏–º—ñ–∑–∞—Ü—ñ—è - –ù–∏–∑—å–∫–∏–π –ü—Ä—ñ–æ—Ä–∏—Ç–µ—Ç

#### 1. Performance
- [ ] Lazy loading (pagination)
- [ ] Image optimization
- [ ] Caching strategies

#### 2. Error Handling
- [ ] User-friendly messages
- [ ] Retry mechanisms
- [ ] Offline indicators

#### 3. UX
- [ ] Loading states
- [ ] Empty states
- [ ] Success animations

---

## üìà –ú–µ—Ç—Ä–∏–∫–∏

### Code Quality
- **CSS:** 9 –º–æ–¥—É–ª—ñ–≤, ~960 —Ä—è–¥–∫—ñ–≤ (+club-form.css)
- **JS:** 12 –º–æ–¥—É–ª—ñ–≤, ~1900 —Ä—è–¥–∫—ñ–≤ (+clubs-form.js)
- **Syntax errors:** 0
- **UTF-8 encoding:** Fixed
- **Security:** Membership verification –Ω–∞ –≤—Å—ñ—Ö books endpoints

### Features (Frontend)
- ‚úÖ –°–ø–∏—Å–æ–∫ –∫–ª—É–±—ñ–≤ + pending clubs
- ‚úÖ –î–µ—Ç–∞–ª—ñ –∫–ª—É–±—É (5 —Å–µ–∫—Ü—ñ–π)
- ‚úÖ –°–ø–∏—Å–æ–∫ –∫–Ω–∏–≥ + –¥—ñ—ó + —Å—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞
- ‚úÖ –°–æ—Ä—Ç—É–≤–∞–Ω–Ω—è –∫–Ω–∏–≥ (5 –≤–∞—Ä—ñ–∞–Ω—Ç—ñ–≤)
- ‚úÖ –ú–æ–¥–∞–ª—å–Ω–µ –≤—ñ–∫–Ω–æ –∫–Ω–∏–≥–∏
- ‚úÖ CRUD –∫–Ω–∏–≥
- ‚úÖ –ü–æ–∑–∏—á–∏—Ç–∏/–ü–æ–≤–µ—Ä–Ω—É—Ç–∏
- ‚úÖ **–°—Ç–≤–æ—Ä–µ–Ω–Ω—è –∫–ª—É–±—É (modal)**
- ‚úÖ **–†–µ–¥–∞–≥—É–≤–∞–Ω–Ω—è –∫–ª—É–±—É (modal)**
- ‚úÖ **–í—Å—Ç—É–ø –∑–∞ –∫–æ–¥–æ–º (modal)** + pending status
- ‚è≥ –í–∏–¥–∞–ª–µ–Ω–Ω—è –∫–ª—É–±—É (confirmation –ø–æ—Ç—Ä—ñ–±–µ–Ω)
- ‚è≥ –ü–æ—à—É–∫ –∫–Ω–∏–≥ (UI –≥–æ—Ç–æ–≤–∏–π, —Ç–µ—Å—Ç—É–≤–∞–Ω–Ω—è)
- ‚è≥ –ó–∞—è–≤–∫–∏ (–∫–Ω–æ–ø–∫–∞ —î)
- ‚è≥ Upload –∑–æ–±—Ä–∞–∂–µ–Ω—å

### Features (Backend)
- ‚úÖ CRUD Books
- ‚úÖ current_reader_id
- ‚úÖ average_rating
- ‚úÖ readers_count
- ‚úÖ books_count
- ‚úÖ members_count
- ‚úÖ –ü–µ—Ä–µ–≤—ñ—Ä–∫–∞ —á–ª–µ–Ω—Å—Ç–≤–∞ (verify_club_membership)
- ‚úÖ –°–æ—Ä—Ç—É–≤–∞–Ω–Ω—è –∫–Ω–∏–≥ (sort_by: date/author/title/rating/readers)
- ‚è≥ cover_image_url
- ‚è≥ Image uploads
- ‚è≥ –ü–æ—à—É–∫ –ø—É–±–ª—ñ—á–Ω–∏—Ö –∫–ª—É–±—ñ–≤

### Visual Design
- ‚úÖ Horizontal layouts
- ‚úÖ SVG icons
- ‚úÖ Color system
- ‚úÖ Responsive (768px, 480px)
- ‚úÖ Modal styling
- ‚úÖ Button states
- ‚úÖ Status badges

---

## üéØ –ü—Ä—ñ–æ—Ä–∏—Ç–µ—Ç–∏

### –í–∏—Å–æ–∫–∏–π
1. Backend: average_rating, readers_count, books_count
2. Frontend: Edit/Delete club forms
3. Frontend: Club requests modal
4. Testing: Responsive –Ω–∞ –ø—Ä–∏—Å—Ç—Ä–æ—è—Ö

### –°–µ—Ä–µ–¥–Ω—ñ–π
5. Backend: Image uploads
6. Frontend: Upload avatars/covers
7. Frontend: Search clubs
8. Error handling

### –ù–∏–∑—å–∫–∏–π
9. Performance (pagination)
10. Animations
11. Unit tests
12. TypeScript
